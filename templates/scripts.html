{% extends "base.html" %}
{% block content %}
  <div class="d-flex align-items-center justify-content-between">
    <h5 class="mb-0">{{ t('nav.scripts') }}</h5>
    <span class="text-muted monospace">{{ config['SCRIPTS_DIR'] }}</span>
  </div>
  <hr>
  {% if not scripts %}
    <div class="alert alert-warning">{{ t('scripts.none') }}</div>
  {% else %}
    <div class="list-group">
      {% for s in scripts %}
      <div class="list-group-item d-flex align-items-center justify-content-between">
        <div class="d-flex align-items-center gap-2">
          <i class="bi bi-terminal"></i>
          <span class="monospace">{{ s.name }}</span>
          <span class="badge bg-secondary">{{ s.name.rsplit('.', 1)[-1]|upper }}</span>
        </div>
        <form class="d-flex gap-2" method="post" action="{{ url_for('run_script') }}">
          <input type="hidden" name="script" value="{{ s.name }}">
          <input type="text" name="args" class="form-control form-control-sm" placeholder="{{ t('scripts.args') }}">
          <button type="submit" class="btn btn-sm btn-primary btn-icon"><i class="bi bi-play-fill"></i> {{ t('scripts.run') }}</button>
        </form>
      </div>
      {% endfor %}
    </div>
  {% endif %}
{% endblock %}
